# This config specifies isolated and conditional probabilities
# of including various admin components (applies to both addresses
# and standalone place queries)


global:
    city_replacements: []
    replace_city_with_locality_probability: 0.95
    locality_and_city_probability: 0.0
    # Probability of including individual components
    components:
        suburb:
            probability: 0.2
            dependencies:
                - locality
                - city
                - city_district
        metro_station:
            probability: 0.05
        city_district:
            probability: 0.2
        locality:
            probability: 0.99
        city:
            probability: 0.99
        island:
            # Islands are usually not represented in addresses
            probability: 0.1
        state_district:
            probability: 0.05
            dependencies:
                - locality
                - city
        state:
            probability: 0.1
            dependencies:
                - locality
                - city
                - country
        country_region:
            probability: 0.05
            dependencies:
                - country
        country:
            probability: 0.8
            population:
                - lt: 100000
                  gte: 10000
                  probability: 0.85
                - lt: 10000
                  probability: 0.9

        world_region:
            probability: 0.001
            dependencies:
                - country

add_west_indies: &add_west_indies
    components:
        city:
            probability: 0.7
        world_region: &add_west_indies_world_region
            probability: 0.1
            values:
                - value: West Indies
                  probability: 0.5
                - value: W.I.
                  probability: 0.2
                - value: W.I
                  probability: 0.15
                - value: WI
                  probability: 0.15

countries:
    # Anguilla
    ai: *add_west_indies

    # Antigua and Barbuda
    ag: *add_west_indies

    # Australia
    au:
        city_replacements:
            - suburb
            - locality
            - city_district
            - state_district
        replace_city_with_locality_probability: 0.8
        locality_and_city_probability: 0.1
        components:
            suburb:
                dependencies:
                    - city_district
                    - locality
                    - city
                    - state_district
                    - state
                    - postcode
            state:
                probability: 0.6
                have_postcode_probability: 0.7
                population:
                    - lt: 100000
                      gte: 10000
                      probability: 0.9
                    - lt: 10000
                      probability: 1.0
                dependencies: []
            country:
                probability: 0.5
                population: []

    # Barbados
    bb: *add_west_indies

    # Bermuda
    bm: *add_west_indies

    # Brazil
    br:
        city_replacements:
            - suburb
            - city_district
            - locality
            - state_district
        components:
            suburb:
                dependencies:
                    - city_district
                    - locality
                    - city
                    - state_district
                    - state
            city:
                probability: 0.95
            state:
                probability: 0.6
                have_postcode_probability: 0.8
                population:
                    - lt: 100000
                      gte: 10000
                      probability: 0.9
                    - lt: 10000
                      probability: 1.0
                dependencies: []
            country:
                population: []

    # Bahamas
    bs: *add_west_indies

    # Belarus
    by:
        locality_and_city_probability: 0.2

    # Canada
    ca:
        city_replacements:
            - suburb
            - city_district
            - locality
            - state_district
            - state
        components:
            suburb:
                dependencies:
                    - city_district
                    - locality
                    - city
                    - state_district
                    - state
            locality:
                probability: 0.95
            city:
                probability: 0.95
            state:
                probability: 0.7
                population_unknown_probability: 0.8
                population:
                    - lt: 100000
                      gte: 10000
                      probability: 0.9
                    - lt: 10000
                      probability: 1.0
                dependencies: []
            country:
                probability: 0.2
                population: []

    # Switzerland
    ch:
        components:
            state:
                population:
                    - lt: 100000
                      probability: 0.4

    # Chile
    cl:
        locality_and_city_probability: 0.4

    # Dominica
    dm: *add_west_indies

    # France
    fr:
        city_replacements:
            - suburb
            - city_district
            - locality
        components:
            suburb:
                probability: 0.4
            city_district:
                probability: 0.4
            locality:
                probability: 0.95
            city:
                probability: 0.95

    # United Kingdom
    gb:
        city_replacements:
            - suburb
            - city_district
            - locality
            - state_district
        replace_city_with_locality_probability: 0.2
        locality_and_city_probability: 0.8
        components:
            state_district:
                probability: 0.15
                population_unknown_probability: 0.4
                population:
                    - lt: 10000
                      probability: 0.5
                dependencies:
                    - city_district
                    - locality
                    - city
            suburb:
                probability: 0.5
            locality:
                probability: 0.95
            city:
                probability: 0.95
            city_district:
                probability: 0.3
            country:
                probability: 0.6


    # Grenada
    gd: *add_west_indies


    # Indonesia
    id:
        locality_and_city_probability: 0.4
        components:
            island:
                probability: 0.4

    # Ireland
    ie:
        city_replacements:
            - suburb
            - city_district
            - locality
            - state_district
        replace_city_with_locality_probability: 0.2
        locality_and_city_probability: 0.8
        components:
            locality:
                probability: 0.95
            city:
                probability: 0.95
            state_district:
                population_unknown_probability: 0.7
                population:
                    - lt: 100000
                      gte: 10000
                      probability: 0.5
                    - lt: 10000
                      probability: 0.8

    # India
    in:
        locality_and_city_probability: 0.2
        components:
            suburb:
                probability: 0.5
            city_district:
                probability: 0.4
            state_district:
                probability: 0.3
            state:
                probability: 0.7
                dependencies: []

    # Italy
    it:
        city_replacements:
            - suburb
            - city_district
            - locality
        components:
            state_district:
                probability: 0.7
                dependencies:
                    - suburb
                    - locality
                    - city
                    - city_district
            state:
                probability: 0.2

    # Hong Kong
    hk:
        components:
            suburb:
                dependencies:
                    - country
            locality:
                probability: 0.7
            city:
                probability: 0.7
            country:
                probability: 0.85
            state:
                probability: 0.2
                dependencies:
                    - country
            island:
                probability: 0.4
                containing:
                    - id: 2278450 # Hong Kong Island (already a "state")
                      type: relation
                      probability: 0.0

    # Hungary
    hu:
        components:
            country:
                probability: 0.1


    # Jamaica
    jm: *add_west_indies

    # Japan
    jp:
        components:
            island:
                probability: 0.4
            metro_station:
                probability: 0.6
            japan_major_neighborhood:
                probability: 1.0
            japan_minor_neighborhood:
                probability: 1.0
            suburb:
                probability: 1.0
            city_district:
                probability: 0.8
            state_district:
                probability: 0.8
            state:
                probability: 0.8
                dependencies: []
            country:
                probability: 0.8

    # Saint Kitts and Nevis
    kn:
        components:
            suburb:
                dependencies:
                    - country
            locality:
                probability: 0.7
            city:
                probability: 0.7
            island:
                probability: 0.8
            world_region: *add_west_indies_world_region

    # Cayman Islands
    ky: *add_west_indies

    # Saint Lucia
    lc: *add_west_indies

    # Latvia
    lv:
        locality_and_city_probability: 0.2

    # Montserrat
    ms: *add_west_indies

    # Mexico
    mx:
        locality_and_city_probability: 0.4
        city_replacements:
            - suburb
            - city_district
            - locality
        components:
            suburb:
                probability: 0.7
                dependencies:
                    - city_district
                    - locality
                    - city
                    - state_district
                    - state
                population:
                    - gte: 100000
                      probability: 0.8
            # Boroughs of Mexico City
            city_district:
                probability: 0.4
            state:
                probability: 0.5
                population_unknown_probability: 0.8
                population:
                    - lt: 100000
                      gte: 10000
                      probability: 0.9
                    - lt: 10000
                      probability: 1.0
                dependencies: []
            country:
                population: []

    # Malaysia
    my:
        replace_city_with_locality_probability: 0.2
        locality_and_city_probability: 0.4
        components:
            island:
                probability: 0.3

    # New Zealand
    nz:
        city_replacements:
            - suburb
            - city_district
            - locality
            - state_district
        replace_city_with_locality_probability: 0.7
        locality_and_city_probability: 0.1
        components:
            island:
                probability: 0.1

    # Philippines
    ph:
        replace_city_with_locality_probability: 0.2
        locality_and_city_probability: 0.3
        components:
            island:
                probability: 0.2

    # Pitcairn Islands
    pn:
        components:
            locality:
                probability: 0.7
            city:
                probability: 0.7
            island:
                probability: 0.8

    # Seychelles
    sc:
        components:
            locality:
                probability: 0.7
            city:
                probability: 0.7
            island:
                probability: 0.8

    # Sint Maarten
    sx: *add_west_indies

    # Turks and Caicos
    tc: *add_west_indies

    # Trinidad and Tobago
    tt: *add_west_indies

    # United States
    us:
        city_replacements:
            - suburb
            - city_district
            - locality
            - state_district
        # Definitions
        new_york_county: &new_york_county
            id: 2552485 # New York County (Manhattan, NY)
            type: relation

        kings_county: &kings_county
            id: 369518 # Kings County (Brooklyn, NY)
            type: relation

        queens_county: &queens_county
            id: 369519 # Queens County (Queens, NY)
            type: relation

        bronx_county: &bronx_county
            id: 2552450 # Bronx County (Bronx, NY)
            type: relation

        richmond_county: &richmond_county
            id: 962876 # Richmond County (Staten Island, NY)
            type: relation

        hawaii: &hawaii
            id: 166563 # State of Hawaii
            type: relation

        district_of_columbia: &district_of_columbia
            id: 162069 # District of Columbia
            type: relation

        new_york_state: &new_york_state
            id: 61320 # New York State
            type: relation

        components:
            suburb:
                probability: 0.4
                containing:
                    - <<: *queens_county
                      probability: 0.6
                dependencies: []
            city_district:
                probability: 0.2
                containing:
                    - <<: *kings_county
                      probability: 0.95
                    - <<: *queens_county
                      probability: 0.6
                    - <<: *bronx_county
                      probability: 0.95
                    - <<: *richmond_county
                      probability: 0.95
                    - <<: *new_york_county
                      probability: 0.1
            locality:
                probability: 0.95
            city:
                probability: 0.95
                containing:
                    - <<: *kings_county
                      probability: 0.1
                    - <<: *queens_county
                      probability: 0.1
                    - <<: *bronx_county
                      probability: 0.1
                    - <<: *richmond_county
                      probability: 0.1
                    - <<: *new_york_county
                      probability: 0.95
                    - <<: *hawaii
                      probability: 0.9
                    - <<: *district_of_columbia
                      probability: 0.85

            island:
                order:
                    direction: before
                    component: state_district
                containing:
                    # Island is more common in Hawaiian addresses
                    - <<: *hawaii
                      probability: 0.5
                    # Manhattan Island
                    - id: "3954665"
                      type: relation
                      probability: 0.0001
                    # Long Island
                    - id: "3955977"
                      type: relation
                      probability: 0.0001
            state:
                probability: 0.8
                population_unknown_probability: 0.9
                population:
                    - lt: 100000
                      gte: 10000
                      probability: 0.9
                    - lt: 10000
                      probability: 1.0
                dependencies: []
                containing:
                    - <<: *district_of_columbia
                      probability: 0.9
                    - <<: *new_york_state
                      dependencies:
                          - suburb
                          - city_district
                          - locality
                          - city
                          - island
                          - state_district
                      probability: 0.8

            state_district:
                probability: 0.1
                population_unknown_probability: 0.3
                population:
                    - lt: 100000
                      gte: 10000
                      probability: 0.2
                    - lt: 10000
                      probability: 0.4
                containing:
                    - <<: *new_york_county
                      probability: 0.1
                    - <<: *kings_county
                      probability: 0.1
                    - <<: *queens_county
                      probability: 0.1
                    - <<: *bronx_county
                      probability: 0.1
                    - <<: *richmond_county
                      probability: 0.1

            country:
                probability: 0.1
                population: []

    # Tuvalu
    tv:
        components:
            locality:
                probability: 0.7
            city:
                probability: 0.7
            island:
                probability: 0.8

    # Venezuela
    ve:
        components:
            state:
                probability: 0.8

    # Saint Vincent and the Grenadines
    vc: *add_west_indies

    # US Virgin Islands
    vi:
        components:
            locality:
                probability: 0.7
            city:
                probability: 0.7
            island:
                probability: 0.8
            world_region: *add_west_indies_world_region

    # British Virgin Islands
    vg:
        components:
            locality:
                probability: 0.7
            city:
                probability: 0.7
            island:
                probability: 0.8
            world_region: *add_west_indies_world_region

    # South Africa
    za:
        city_replacements:
            - suburb
            - city_district
            - locality
            - state_district
